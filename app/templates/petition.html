<div class="container">
	<div class="main">
		 <div *ngIf="petition">
            <div class="title">
                Request #{{petition.reference_no}}
            </div>
            <p>Home > Manage Request >  #{{petition.reference_no}}</p>
            <a style="cursor:pointer"(click)="goBack()">Back to last page</a>
	        		<div class="row">
	        			<div class="col-md-4">Reference Number</div>
	        			<div class="col-md-8"> <p>:  #{{petition.reference_no}}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Development Id</div>
	        			<div class="col-md-8"><p>: {{ petition.development }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Property Id </div>
	        			<div class="col-md-8"><p>: {{ petition.property }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Attachment </div>
	        			<div class="col-md-8">
	        				:<a href="#" *ngFor="let a of petition.attachment"> {{a}}&nbsp; </a>
	        			</div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Contract </div>
	        			<div class="col-md-8"><p>: {{ petition.contract }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Remark </div>
	        			<div class="col-md-8"><p>: {{ petition.remark }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Status </div>
	        			<div class="col-md-8"><p>: {{ petition.status }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Requested By </div>
	        			<div class="col-md-8"><p>: {{ petition.created_by }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Since </div>
	        			<div class="col-md-8"><p>: {{ petition.created_at }}</p></div>
	        		</div>
	        		<div class="row">
	        			<div class="col-md-4">Last Updated on </div>
	        			<div class="col-md-8"><p>: {{ petition.updated_at }}</p></div>
	        		</div>
        </div>

        <div  *ngIf="!petition">
        	<div class="title">
			Manage Request
			</div>
			Home > Manage Request
			<div class="row">
				<div class="col-md-4 pull-right">
								<a class="btn btn-default" [routerLink]="['/petition/add']"><img class="img-btn" src="../../assets/image/icon_add.png" />&nbsp;Add Request</a>
						  		<button class="btn btn-default" [disabled]="!btnArchive" (click)="archieveSelected()"><img class="img-btn" src="../../assets/image/icon_archived.png" />&nbsp;Archieve Selected</button>
				</div>
			</div>
			
			<div (click)="$event.preventDefault()">
			
			    	<p-dataTable [value]="petitions" [rows]="10"  resizableColumns="true" [paginator]="true">
					    <p-column header="Ticket Number" [filter]="true" filterPlaceholder="Search Ticket Number">
					    	<template let-petitions="rowData" pTemplate="body">
					            <span>#{{petitions.reference_no}}</span>
					        </template>
						</p-column>
					    <p-column field="petition_type" header="Type" sortable="true" [filter]="true" filterPlaceholder="Search Type"></p-column>
					    <p-column header="Requested by" >
					    	<template let-petitions="rowData" pTemplate="body">
					            <span class="btn-underline">{{petitions.created_by}}</span><br>
					            <span>on {{petitions.created_at | date:'shortTime'}}</span><br>
					        </template>
						</p-column>
					    <p-column field="updated_at" header="Last Updated on" sortable="true" [filter]="true" ></p-column>
					    <p-column header="Attachment">
					        <template let-petitions="rowData" pTemplate="body">
					        	<span *ngIf="petitions.attachment.length === 0">No Files</span>
					            <span *ngFor="let t of petitions.attachment">{{t}},</span>
					        </template>
				    	</p-column>
						<p-column [style]="{'width':'300px'}" styleClass="col-button" header="action">
					    	<template class="pull-right" let-petitions="rowData" pTemplate="body">
					    	<a type="button" class="btn-underline" (click)="viewPetition(petitions)">View</a>
					    	<a (click)="viewPdf(petitions)" class="btn-underline"><img src="../../assets/image/icon_pdf.png" class="img-btn"/>Pdf</a>
					    	<p-checkbox name="archive" (click)="checkSelected()" value="{{petitions._id}}" [(ngModel)]="selectedValues"></p-checkbox>
					    	</template>
					    </p-column>
					</p-dataTable>
			</div>
        </div>
		

		<!-- <div class="row">
		    
		    <modal #firstModal>
		        <modal-header>
		            <h5>Publish Announcement</h5>
		        </modal-header>
		        <modal-content>

		           <div *ngIf="announcement">
		              
		           		
		              <form class="form-horizontal" name="form">
		                <div class="form-group">
		                    <label class="control-label col-sm-4" for="sticky">Sticky? :</label>
		                    <div class="col-sm-8">
		                        <label><input type="radio" name="sticky" [checked]="stickyStatus == 'yes'" [(ngModel)]="stickyStatus" value='yes'>Yes</label>
		                        <label><input type="radio" name="sticky" [checked]="stickyStatus == 'no'" [(ngModel)]="stickyStatus" value='no'>No</label>     
		                    </div>
		                </div>
		                <div class="form-group" >
		                    <label class="control-label col-sm-4" for="valid_till">Valid till :</label>
		                    <div class="col-sm-8">
		                    <my-date-picker [options]="validTillDateOptions"
                            [selDate]="valid_tillStatus" (dateChanged)="validTillDateChanged($event)"></my-date-picker>
		                       
		                    </div>
		                </div>
		                <div class="pull-right">
		                    <button  class="btn btn-primary" (click)="publishAnnouncement()">Announce</button>
		                    <button class="btn btn-default" (click)="firstModal.close()">Cancel</button>
		                </div>
		            </form>   
		           </div>
		        </modal-content>
		        
		    </modal>
		</div> -->	
	</div>
</div>